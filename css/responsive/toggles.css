/* ===== TOGGLES RESPONSIVE STYLES ===== */

/* ===== DESKTOP STYLES (769px+) ===== */
@media (min-width: 769px) {
    /* Hide mobile toggles on desktop */
    .mobile-sidebar-toggle,
    .mobile-legend-toggle,
    .mobile-filters-toggle {
        display: none !important;
    }
}

/* ===== TABLET/MOBILE STYLES (768px and below) ===== */
@media (max-width: 768px) {
    /* ===== MOBILE TOGGLES ===== */
    .mobile-sidebar-toggle,
    .mobile-legend-toggle,
    .mobile-filters-toggle { 
        display: flex !important; 
        align-items: center;
        justify-content: center;
        padding: 8px 12px; 
        font-size: 0.75rem; 
        min-height: 40px; 
        border-radius: 20px; 
        background-color: var(--surface-0);
        border: 1px solid var(--border-1);
        color: var(--text-1);
        transition: all var(--animation-duration-fast) var(--animation-easing);
        cursor: pointer;
        outline: none;
    }
    
    .mobile-sidebar-toggle:hover,
    .mobile-legend-toggle:hover,
    .mobile-filters-toggle:hover {
        background-color: var(--surface-1);
        border-color: var(--border-2);
        transform: translateY(-1px);
        box-shadow: var(--shadow-2);
    }
    
    .mobile-sidebar-toggle.active,
    .mobile-legend-toggle.active,
    .mobile-filters-toggle.active {
        background-color: var(--accent-600);
        border-color: var(--accent-600);
        color: var(--text-on-accent);
    }
    
    /* ===== DESKTOP TOGGLES HIDDEN ===== */
    #header-legend-toggle,
    #header-filters-toggle,
    #header-data-toggle { 
        display: none !important; 
    }
    
    /* ===== BASEMAP TOGGLE POSITIONING ===== */
    .header-actions .basemap-toggle-row {
        margin-right: 25px; /* Move toggle closer to right edge */
    }
    
    /* Alternative approach: adjust header actions gap */
    .header-actions {
        gap: 7px; /* Increase gap between elements on smaller screens */
    }
    
    /* Make header-actions hug the right edge */
    #filters-panel .container {
        padding-right: 4px; /* Reduce right padding to hug edge */
    }
    
    .header-actions {
        margin-right: 0; /* Ensure no right margin */
        padding-right: 0; /* Ensure no right padding */
    }
}

/* ===== SMALL MOBILE STYLES (480px and below) ===== */
@media (max-width: 480px) {
    /* ===== MOBILE TOGGLES ===== */
    .mobile-sidebar-toggle, 
    .mobile-legend-toggle, 
    .mobile-filters-toggle { 
        display: inline-flex !important; 
        width: 35px !important;
        height: 45px !important;
        min-height: 28px !important;
        padding: 0 !important;
        border-radius: 14px !important;
        justify-content: center !important;
        align-items: center !important;
        gap: 0 !important;
        background-color: var(--surface-0) !important;
        border: 1px solid var(--border-1) !important;
        -webkit-tap-highlight-color: transparent;
        outline: none;
        transition: all var(--animation-duration-fast) var(--animation-easing) !important;
    }
    
    .mobile-legend-toggle .toggle-text,
    .mobile-filters-toggle .toggle-text,
    .mobile-sidebar-toggle .toggle-text { 
        display: none !important; 
    }
    
    .mobile-legend-toggle svg,
    .mobile-filters-toggle svg,
    .mobile-sidebar-toggle svg { 
        width: 18px; 
        height: 18px; 
        display: block; 
        fill: currentColor; 
    }
    
    .mobile-legend-toggle.active,
    .mobile-filters-toggle.active,
    .mobile-sidebar-toggle.active {
        background-color: var(--accent-600) !important;
        border-color: var(--accent-600) !important;
        color: var(--text-on-accent) !important;
    }

    .mobile-legend-toggle:hover,
    .mobile-legend-toggle:focus-visible,
    .mobile-filters-toggle:hover,
    .mobile-filters-toggle:focus-visible,
    .mobile-sidebar-toggle:hover,
    .mobile-sidebar-toggle:focus-visible {
        box-shadow: var(--shadow-2) !important;
        transform: translateY(-1px) !important;
        outline: none !important;
    }
    
    /* ===== BASEMAP TOGGLE ===== */
    .header-actions sl-switch#basemap-toggle::part(base) { 
        --width: 54px; 
    }
    sl-switch#basemap-toggle::part(control) { 
        height: 26px; 
    }
    sl-switch#basemap-toggle::part(thumb) { 
        width: 26px; 
        height: 26px; 
        background-position: 50% 50% !important; 
    }
    sl-switch#basemap-toggle::part(control) {
        background-image:
            linear-gradient(180deg, rgba(255,255,255,0.30), rgba(255,255,255,0)),
            conic-gradient(from 0deg at 18px 50%,
                transparent 0 12deg, rgba(255,255,255,0.18) 12deg 12.8deg, transparent 12.8deg 24deg,
                rgba(255,255,255,0.16) 24deg 24.8deg, transparent 24.8deg 36deg,
                rgba(255,255,255,0.14) 36deg 36.8deg, transparent 36.8deg 180deg,
                transparent 180deg 332deg, rgba(255,255,255,0.12) 332deg 332.8deg, transparent 332.8deg 344deg,
                rgba(255,255,255,0.12) 344deg 344.8deg, transparent 344.8deg 360deg
            ),
            radial-gradient(circle at 18px 50%, rgba(253,230,138,0.55) 0%, rgba(253,230,138,0.0) 65%),
            linear-gradient(60deg, var(--sun-primary), var(--sun-secondary));
    }
    
    /* ===== BASEMAP TOGGLE POSITIONING ===== */
    .header-actions .basemap-toggle-row {
        margin-right: 0px; /* Move toggle closer to right edge on smaller screens */
    }
    
    /* Make header-actions hug the right edge */
    #filters-panel .container {
        padding-right: 2px; /* Reduce right padding to hug edge on smaller screens */
    }
    
    .header-actions {
        margin-right: 0; /* Ensure no right margin */
        padding-right: 0; /* Ensure no right padding */
    }
}
