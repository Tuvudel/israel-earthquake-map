/* ===== HEADER RESPONSIVE STYLES ===== */

/* ===== MOBILE STYLES (480px and below) ===== */
@media (max-width: 480px) {
    /* ===== HEADER LAYOUT ===== */
    .header-layout { 
        flex-direction: row; 
        align-items: center; 
        justify-content: space-between;
        gap: 4px; 
    }
    
    /* ===== CONTAINER PADDING ===== */
    #filters-panel .container {
        padding-right: 0px !important; /* Remove right padding to hug edge */
    }
    
    /* ===== TITLE SECTION ===== */
    .title-section { 
        order: 1; 
        padding: 0; 
        text-align: left; 
        flex: 1 1 0%;
        min-width: 0;
        flex-direction: column;
        align-items: flex-start;
        gap: 2px;
        overflow: hidden;
        flex-shrink: 0; /* Prevent title section from shrinking */
        min-width: 120px; /* Ensure minimum space for title */
    }
    
    .title-section h1 { 
        font-size: clamp(0.9rem, 4vw, 1rem); 
        margin: 0; 
        line-height: 1.2; 
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    
    #filters-panel h1 {
        font-size: clamp(0.9rem, 4vw, 1rem) !important; /* Override main header CSS */
        margin: 0;
        line-height: 1.2;
    }
    
    /* ===== LAST UPDATED SECTION ===== */
    .last-updated { 
        font-size: clamp(0.5rem, 3vw, 0.6rem); 
        margin-top: 1px; 
        gap: 4px; 
        flex-wrap: nowrap; /* Prevent wrapping */
        overflow: hidden;
        align-items: center;
        white-space: nowrap; /* Prevent text wrapping */
        flex-shrink: 1; /* Allow shrinking */
        min-width: 0; /* Allow shrinking below content size */
        min-width: 120px; /* Ensure minimum space for updated text + credits */
    }
    
    .last-updated .icon {
        flex-shrink: 0; /* Keep icon from shrinking */
        width: 10px;
        height: 10px;
    }
    
    /* ===== CREDITS BUTTON ===== */
    .credits-trigger { 
        font-size: clamp(0.5rem, 3vw, 0.55rem); 
        padding: 3px 8px; 
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        flex-shrink: 1; /* Allow shrinking */
        min-width: 0; /* Allow shrinking below content size */
        min-width: 40px; /* Ensure minimum space for credits button */
    }
    
    /* ===== HEADER ACTIONS ===== */
    .header-actions { 
        margin: 0; 
        order: 3; 
        z-index: 1001; 
        display: flex;
        align-items: center;
        gap: 4px; /* Reduce gap to fit more elements */
        flex-shrink: 1; /* Allow shrinking but not at expense of title */
        margin-right: 0 !important; /* Ensure no right margin */
        padding-right: 0 !important; /* Ensure no right padding */
        overflow: hidden; /* Prevent overflow */
        min-width: 0; /* Allow shrinking */
    }
    
    .mobile-actions {
        display: flex !important;
        align-items: center;
        gap: 4px; /* Reduce gap between mobile buttons */
        flex-shrink: 1; /* Allow shrinking */
        min-width: 0; /* Allow shrinking below content size */
    }
    
    /* ===== MOBILE BUTTONS ===== */
    .mobile-sidebar-toggle,
    .mobile-legend-toggle,
    .mobile-filters-toggle {
        padding: 4px !important; /* Reduce padding */
        min-width: 28px !important; /* Reduce minimum width */
        height: 32px !important; /* Reduce height */
        flex-shrink: 1; /* Allow shrinking */
        min-width: 0; /* Allow shrinking below content size */
    }
    

    /* ===== BASEMAP TOGGLE POSITIONING ===== */
    .header-actions .basemap-toggle-row {
        margin-right: 4px !important; /* Reduce margin */
        flex-shrink: 1; /* Allow shrinking */
        min-width: 0; /* Allow shrinking below content size */
    }
    
    /* ===== BASEMAP TOGGLE SIZE ===== */
    .header-actions sl-switch#basemap-toggle::part(base) {
        --width: 44px !important; /* Reduce toggle width */
    }
    
    sl-switch#basemap-toggle::part(control) {
        height: 22px !important; /* Reduce toggle height */
    }
    
    sl-switch#basemap-toggle::part(thumb) {
        width: 22px !important; /* Reduce thumb size */
        height: 22px !important;
    }
}

/* ===== GLOBAL OVERRIDES ===== */
/* Keep credits aligned left at all sizes */
.last-updated { 
    justify-content: flex-start; 
}
