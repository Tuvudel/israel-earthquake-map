/* ===== FILTERS RESPONSIVE STYLES ===== */
/* Component-specific responsive styles for filters */

/* ===== FILTERS RESPONSIVE STYLES ===== */

/* ===== DESKTOP FILTER PANE STYLES ===== */
/* Desktop: allow dropdowns to overflow the pane and tighten spacing */
@media (min-width: 1024px) {
    #filters-pane.filters-container { 
        overflow: visible; 
        gap: 18px; 
    }
}

/* ===== TABLET STYLES (768px and below) ===== */
@media (max-width: 768px) {
	/* Shoelace Select Responsive Styling */
	.filter-group sl-select {
		width: 100%;
		--sl-input-font-size-medium: 0.85rem;
		--sl-input-padding-medium: 10px 12px;
		--sl-input-height-medium: 40px;
	}
    /* ===== FILTERS PANEL ===== */
    .filters-container { 
        flex-direction: column; 
        gap: 15px; 
    }
    .filter-group { 
        width: 100%; 
    }
    .select-filter { 
        min-width: 160px; 
        font-size: 0.9rem; 
    }
    .year-group { 
        margin-left: 0; 
    }
    
    /* ===== FILTERS PANE OVERLAY ===== */
    /* Mobile-specific filter pane - higher specificity to override base styles */
    #filters-pane.filters-container { 
        display: none; 
        /* Base state - hidden and translated up */
        transform: translateY(-100%);
        opacity: 0;
        /* Enhanced mobile animations */
        transition: transform var(--mobile-animation-duration-slow) var(--mobile-animation-easing-smooth),
                    opacity var(--mobile-animation-duration-slow) var(--mobile-animation-easing-smooth),
                    box-shadow var(--mobile-animation-duration-slow) var(--mobile-animation-easing-smooth);
        /* Performance optimizations for mobile */
        will-change: transform, opacity;
        touch-action: pan-y;
    }
    
    #filters-pane.filters-container.show {
        display: flex;
        position: absolute;
        top: 100%;
        bottom: auto;
        left: 0;
        right: 0;
        background: rgba(255,255,255,0.95);
        backdrop-filter: none;
        border-top: 1px solid var(--glass-border);
        padding: 4px 14px;
        max-height: 75vh; /* Fixed: Set proper max-height for scrolling */
        overflow-y: auto; /* Fixed: Enable scrolling when needed */
        overflow-x: hidden;
        z-index: 2000;
        box-shadow: var(--shadow-2);
        pointer-events: auto;
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
        /* Enhanced mobile animations */
        transition: transform var(--mobile-animation-duration-slow) var(--mobile-animation-easing-smooth),
                    opacity var(--mobile-animation-duration-slow) var(--mobile-animation-easing-smooth),
                    box-shadow var(--mobile-animation-duration-slow) var(--mobile-animation-easing-smooth);
    }
    
    /* Mobile filter pane backdrop animation */
    #filters-backdrop {
        opacity: 0;
        transition: opacity var(--mobile-animation-duration-normal) var(--mobile-animation-easing);
        background: rgba(0, 0, 0, 0.3);
    }
    
    #filters-backdrop.show {
        opacity: 1;
        transition: opacity var(--mobile-animation-duration-normal) var(--mobile-animation-easing);
    }
    

    
    /* ===== FILTER COMPONENT OVERRIDES ===== */
    /* Filter Controls */
    .date-filter-card .collapsible { 
        min-height: 0; 
    }
    .date-mode-toggle { 
        margin-bottom: 4px; 
    }
    .relative-options { 
        margin-top: 0px; 
        margin-bottom: 0px; 
    }
    
    /* Remove conflicting max-height rule */
    /* #filters-pane.filters-container { 
        max-height: 75vh; 
    } */
    
    /* Ensure all filter groups take full width on mobile */
    .magnitude-group,
    .location-filters-group,
    .year-group { 
        margin-left: 0; 
        min-width: 100%; 
        max-width: 100%; 
        width: 100%; 
        flex: 1 1 100%;
    }
    
    /* Location filter items on mobile - ensure proper stacking */
    .location-filters-group {
        display: flex;
        flex-direction: column;
        gap: 8px; /* ADJUSTABLE: Reduced gap on mobile */
    }
    
    .location-filter-item {
        margin-bottom: 0;
        width: 100%;
        flex: 1 1 100%; /* ADJUSTABLE: Take full width on mobile */
    }
    
    .year-slider-container,
    .magnitude-slider-container,
    #magnitude-range-container { 
        width: 100%; 
        max-width: 100%; 
        padding: 0 4px 6px 4px; /* ADJUSTABLE: Removed bottom padding completely */
        box-sizing: border-box; 
        margin-bottom: 0; /* Remove bottom margin */
    }
    
    /* Remove extra bottom space from date filter components */
    .date-filter-card {
        padding-bottom: 0;
    }
    
    .relative-options {
        margin-bottom: 0;
        padding-bottom: 0;
    }
    
    .date-mode-row {
        margin-bottom: 0;
        padding-bottom: 0;
    }
    
    /* Filter Sliders */
    #year-range-slider .noUi-pips,
    #magnitude-range-slider .noUi-pips { 
        width: 100%; 
        transform: none; 
    }

    /* Remove extra bottom space on mobile */
    .year-group .year-slider-container,
    .year-group .magnitude-slider-container,
    .year-group #magnitude-range-container { 
        width: 100%; 
        max-width: 100%; 
        padding: 0 4px 0px 4px; /* ADJUSTABLE: Removed bottom padding completely */
        box-sizing: border-box; 
        margin-bottom: 0; /* Remove bottom margin */
    }
}

/* ===== SMALL MOBILE STYLES (480px and below) ===== */
@media (max-width: 480px) {
	/* Shoelace Select Small Mobile Styling */
	.filter-group sl-select {
		width: 100%;
		--sl-input-font-size-medium: 0.9rem;
		--sl-input-padding-medium: 8px 10px;
		--sl-input-height-medium: 36px;
	}
    /* ===== FILTERS ===== */
    .filters-container { 
        gap: 8px; 
    }
    .filter-group { 
        width: 100%; 
        margin-bottom: 0; 
    }
    .select-filter { 
        width: 100%; 
        min-width: 0; 
        font-size: 1rem; 
        padding: 10px 12px; 
    }
    
    .year-group { 
        width: 100%; 
    }
    #filters-pane.filters-container { 
        display: none; 
    }
    #filters-pane.filters-container.show { 
        display: flex; 
    }
    #filters-pane { 
        overflow-y: auto; 
    }
    
    /* ===== MISC ===== */
    #magnitude-range-container {
        margin: 0px 0 0px 0;
    }
}

/* ===== TABLET LAYOUT (768px - 1023px) ===== */
@media (max-width: 1023px) and (min-width: 769px) {
    .filters-container { 
        gap: 20px; /* ADJUSTABLE: Reduced gap for tablet */
    }
    
    .magnitude-group { 
        flex: 0 0 500px; /* ADJUSTABLE: Smaller width for tablet */
        min-width: 300px;
    }
    
    .location-filters-group { 
        min-width: 320px; /* ADJUSTABLE: Smaller minimum width for tablet */
        max-width: 500px; /* ADJUSTABLE: Smaller maximum width for tablet */
        margin: 0 15px; /* ADJUSTABLE: Reduced margin */
        gap: 15px; /* ADJUSTABLE: Reduced gap for tablet */
        flex-direction: row; /* ADJUSTABLE: Inline layout on tablet too */
    }
    
    .year-group { 
        flex: 1 1 auto; /* ADJUSTABLE: Changed to flex: 1 1 auto to take available space */
        min-width: 300px; /* ADJUSTABLE: Reduced minimum width */
        margin-left: 0; /* ADJUSTABLE: Removed margin for proper alignment */
    }
}
