/* Data table (extracted from css/styles.css) */
.table-container { flex: 1; overflow-y: auto; border: 0; border-radius: 0; }
/* prevent horizontal scroll within the sidebar for the table */
.table-container { overflow-x: hidden; }

/* Data table panel container */
#data-table-panel { flex: 1; padding: 8px 16px 16px; display: flex; flex-direction: column; }
#data-table-panel h3 { font-size: 1.1rem; margin-bottom: 12px; color: var(--text-2); }

/* Shoelace-aligned card header and base for the data table card (theme-aware) */
.table-card::part(header) { background: var(--surface-0); border-bottom: 1px solid var(--border-1); color: var(--text-1); font-weight: 600; }
.table-card::part(base) { border: 1px solid var(--border-1); box-shadow: var(--shadow-1); background: var(--surface-0); color: var(--text-1); }

#earthquake-table { width: 100%; border-collapse: collapse; font-size: 0.85rem; color: var(--text-1); table-layout: fixed; }
#earthquake-table th { background: var(--surface-0); color: var(--text-2); padding: 12px 8px; text-align: left; font-weight: 600; border-bottom: 1px solid var(--border-1); position: sticky; top: 0; z-index: 10; white-space: normal; overflow: visible; text-overflow: clip; }
#earthquake-table td { padding: 10px 8px; border-bottom: 1px solid var(--border-1); }
#earthquake-table tbody tr:hover { background-color: var(--surface-1); }
#earthquake-table tbody tr.highlighted { background-color: var(--sl-color-primary-100) !important; animation: highlight-pulse 0.5s ease-in-out; }
@keyframes highlight-pulse { 0% { background-color: #2196f3; } 100% { background-color: #e3f2fd; } }

.earthquake-row { cursor: pointer; transition: background-color 0.2s; border-left: 4px solid transparent; }
.earthquake-row.mag-minor { border-left-color: var(--mag-minor); }
.earthquake-row.mag-light { border-left-color: var(--mag-light); }
.earthquake-row.mag-moderate { border-left-color: var(--mag-moderate); }
.earthquake-row.mag-strong { border-left-color: var(--mag-strong); }
.earthquake-row.mag-major { border-left-color: var(--mag-major); }

.magnitude-cell { display: flex; align-items: center; gap: 8px; }
.magnitude-cell .magnitude-indicator { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }

/* Magnitude badge (table) */
.mag-cell { text-align: center; }
.mag-badge { display: inline-flex; align-items: center; justify-content: center; min-width: 28px; height: 28px; padding: 0 8px; border-radius: 9999px; color: #fff; font-weight: 700; font-size: 0.85rem; letter-spacing: 0.02em; box-shadow: 0 0 0 1px rgba(0,0,0,0.04) inset; }
.mag-badge.minor { background-color: var(--mag-minor); }
.mag-badge.light { background-color: var(--mag-light); color: #2c3e50; }
.mag-badge.moderate { background-color: var(--mag-moderate); color: #2c3e50; }
.mag-badge.strong { background-color: var(--mag-strong); }
.mag-badge.major { background-color: var(--mag-major); }
@media (max-width: 480px) { .mag-badge { min-width: 24px; height: 24px; font-size: 0.8rem; padding: 0 6px; } }

/* Sorting */
.sortable { cursor: pointer; user-select: none; position: relative; }
.sortable:hover { background-color: var(--surface-1); }
.sort-indicator { margin-left: 5px; opacity: 0.3; }
.sort-indicator:after { content: '↕'; }
.sort-indicator.active { opacity: 1; }
.sort-indicator.active.asc:after { content: '↑'; }
.sort-indicator.active.desc:after { content: '↓'; }

/* Pagination */
#pagination { margin-top: 15px; display: flex; justify-content: space-between; align-items: center; font-size: 0.85rem; }
.pagination-info { color: var(--text-muted); }
.pagination-controls { display: flex; align-items: center; gap: 10px; }
.pagination-controls sl-button.pagination-btn { margin: 0 4px; }
#page-numbers { display: flex; gap: 5px; }
.page-number { padding: 6px 10px; border: 1px solid var(--border-1); background: var(--surface-0); color: var(--text-1); cursor: pointer; border-radius: 6px; font-size: 0.8rem; min-width: 32px; text-align: center; transition: all 0.2s; box-shadow: var(--shadow-1); }
.page-number:hover { background: var(--surface-1); }
.page-number.active { background: var(--brand-600); color: #ffffff; border-color: var(--brand-600); box-shadow: var(--shadow-2); }

/* --- Event Card Rows (inside table) --- */
.card-cell { padding: 0 !important; }
.card-cell { border-bottom: none !important; }
.event-card { display: flex; flex-direction: column; gap: 10px; padding: 12px 14px; background: var(--surface-0); border-radius: 10px; border: 1px solid var(--border-1); box-shadow: var(--shadow-1); }
.earthquake-row:hover .event-card { background: var(--surface-1); }
.earthquake-row.highlighted .event-card { outline: 2px solid var(--brand-600); outline-offset: 0; }

.event-header { display: flex; align-items: center; justify-content: space-between; gap: 12px; }
.event-left { display: flex; align-items: center; gap: 12px; min-width: 0; }
.event-magnitude .mag-badge { min-width: 36px; height: 36px; font-size: 0.95rem; padding: 0 10px; }
.event-primary { display: flex; flex-direction: column; min-width: 0; }
.event-location { font-weight: 700; color: var(--text-1); line-height: 1.2; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.event-region { color: var(--text-3); font-size: 0.8rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.event-time { text-align: right; display: flex; flex-direction: column; gap: 2px; min-width: 0; }
.event-time .time-ago { font-weight: 600; color: var(--text-1); }
.event-time .exact-date { color: var(--text-3); font-size: 0.8rem; }
.event-time .exact-time { color: var(--text-3); font-size: 0.8rem; }

.event-details { display: grid; grid-template-columns: minmax(64px, auto) 1fr auto; column-gap: 6px; row-gap: 6px; padding-top: 6px; border-top: 1px dashed var(--border-1); align-items: start; }
.detail-item { display: flex; flex-direction: column; gap: 2px; min-width: 0; }
.detail-felt { justify-self: end; text-align: right; white-space: nowrap; }
.detail-label { color: var(--text-3); font-size: 0.7rem; text-transform: uppercase; letter-spacing: .04em; }
.detail-value { color: var(--text-1); font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

.felt-none { color: var(--text-3); }

@media (max-width: 520px) {
  /* Keep header in a row: magnitude/location left, time right */
  .event-header { align-items: center; justify-content: space-between; flex-direction: row; }
  .event-time { min-width: auto; text-align: right; align-items: flex-end; }
  /* Keep all three detail items on one line with tighter spacing */
  .event-details { grid-template-columns: minmax(60px, auto) 1fr auto; column-gap: 6px; }
  .event-card { padding: 10px 12px; }
  .event-magnitude .mag-badge { min-width: 30px; height: 30px; font-size: 0.85rem; padding: 0 8px; }
  #earthquake-table th { padding: 10px 6px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
}
